<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="http://code.jquery.com/jquery-2.1.3.min.js"></script>
    <script src="https://code.jquery.com/ui/1.11.3/jquery-ui.min.js"></script>
    <title>Tank's</title>
</head>
<body>
    <canvas id="canvas" width="400" height="400"></canvas>
    <script src="./js/tank.js"></script>
    <script>
    let t34 = new Tank(2,2);
    let walls = [
        new Block(5,5,5),
        new Block(5,6,5),
        new Block(5,7,5),
        new Block(4,7,5),
        new Block(3,7,5),
        new Block(3,6,5),
        new Block(3,5,5),
        new Block(4,5,5)
    ];

    let swamps = [
        new Block(1,1),
        new Block(6,6)
    ];
    function SquareBlocks(blocksArr,x,y,width,height){
        for(let i=0; i<height; i++){
            for(let a=0; a<width; a++){
                blocksArr.push(new Block(x+a,y+i))
            }
        }
    }

    // let swamps = [
    //     [],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]
    // ]

    let getLvL1Block = new Block(9,1);
    let getLvL2Block = new Block(4,6);
    let getArmoryBlock = new Block(9,3);
    let getFuelBlock = new Block(9,4)

    let drawGetBlocks = function(){
        getLvL1Block.drawSquare('blue');
        getLvL2Block.drawSquare('blue');
        getArmoryBlock.drawSquare('blue');
        getFuelBlock.drawSquare('blue');
    }

    function drawBlocks(blocks,color){
        for(let i=0; i<blocks.length; i++){
            blocks[i].drawSquare(color);
        }
    }

    let intervalId = setInterval(function () {
        ctx.clearRect(0, 0, width, height);
        drawBlocks(walls,'red');
        drawBlocks(swamps,'green');
        drawGetBlocks();
        drawScore();
        drawBorder();
        t34.gunDirection(t34.direction);
        for(let i=0; i<bullets.length; i++){
            bullets[i].moveBullet();
        }
    }, 100);
    </script>
</body>
</html>